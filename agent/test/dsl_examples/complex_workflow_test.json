{
    "components": {
        "begin": {
            "obj": {
                "component_name": "Begin",
                "params": {
                    "prologue": "Hello! This is a (revised) complex workflow test. What's your query?"
                }
            },
            "downstream": ["answer_user_input"],
            "upstream": [],
            "parent_id": ""
        },
        "answer_user_input": {
            "obj": {
                "component_name": "Answer",
                "params": {}
            },
            "downstream": ["retrieval_0"],
            "upstream": ["begin"],
            "parent_id": ""
        },
        "retrieval_0": {
            "obj": {
                "component_name": "Retrieval",
                "params": {
                    "tavily_api_key": "mock_tavily_key",
                    "use_kg": true,
                    "empty_response": "No specific results found for your query via web/kg search."
                }
            },
            "downstream": ["relevant_0"],
            "upstream": ["answer_user_input"],
            "parent_id": ""
        },
        "relevant_0": {
            "obj": {
                "component_name": "Relevant",
                "params": {
                    "llm_id": "mock_llm_for_relevance",
                    "prompt": "Is the following document relevant to the user's most recent question? Document: {retrieval_0}",
                    "yes": "relevant_path_selected",
                    "no": "irrelevant_path_selected"
                }
            },
            "downstream": ["switch_0"],
            "upstream": ["retrieval_0"],
            "parent_id": ""
        },
        "switch_0": {
            "obj": {
                "component_name": "Switch",
                "params": {
                    "conditions": [
                        {
                            "logical_operator": "and",
                            "items": [
                                {"cpn_id": "relevant_0", "operator": "=", "value": "relevant_path_selected"}
                            ],
                            "to": "generate_relevant_response"
                        },
                        {
                            "logical_operator": "and",
                            "items": [
                                {"cpn_id": "relevant_0", "operator": "=", "value": "irrelevant_path_selected"}
                            ],
                            "to": "generate_general_response"
                        }
                    ],
                    "end_cpn_id": "answer_bot_output"
                }
            },
            "downstream": ["generate_relevant_response", "generate_general_response"],
            "upstream": ["relevant_0"],
            "parent_id": ""
        },
        "generate_relevant_response": {
            "obj": {
                "component_name": "Generate",
                "params": {
                    "llm_id": "mock_llm_for_generate_relevant",
                    "prompt": "Based on the relevant retrieved content: {retrieval_0}\nSummarize it in response to the user's query.",
                    "cite": true
                }
            },
            "downstream": ["answer_bot_output"],
            "upstream": ["switch_0"],
            "parent_id": ""
        },
        "generate_general_response": {
            "obj": {
                "component_name": "Generate",
                "params": {
                    "llm_id": "mock_llm_for_generate_general",
                    "prompt": "The retrieved content was not deemed relevant. Please provide a general helpful response or ask for clarification regarding the user's query.",
                    "cite": false
                }
            },
            "downstream": ["answer_bot_output"],
            "upstream": ["switch_0"],
            "parent_id": ""
        },
        "answer_bot_output": {
            "obj": {
                "component_name": "Answer",
                "params": {}
            },
            "downstream": [],
            "upstream": ["generate_relevant_response", "generate_general_response"],
            "parent_id": ""
        }
    },
    "history": [],
    "messages": [],
    "reference": [],
    "path": [],
    "answer": []
}
